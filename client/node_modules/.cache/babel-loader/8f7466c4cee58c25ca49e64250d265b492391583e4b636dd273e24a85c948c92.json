{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gm830\\\\OneDrive\\\\Desktop\\\\Resume Projects\\\\Blog App\\\\client\\\\src\\\\pages\\\\AddSkills.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Form, redirect, useSubmit, useLoaderData } from \"react-router-dom\";\nimport NameAndImage from \"../components/header/NameAndImage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddSkillsPage = () => {\n  _s();\n  const userId = useLoaderData()._id;\n  const submit = useSubmit();\n  const [skills, setSkills] = useState([]);\n  const [skillName, setSkillName] = useState();\n  const [skillValue, setSkillValue] = useState(50);\n  const getSkills = async () => {\n    const response = await fetch(`http://localhost:3080/users/skills/${userId}`);\n    const skills = await response.json();\n    setSkills(skills.skills);\n  };\n  useEffect(() => {\n    getSkills();\n  }, []);\n  const skillHandler = e => {\n    setSkillName(e.target.value);\n  };\n  const difficultyHandler = e => {\n    setSkillValue(e.target.value);\n  };\n  const addSkillsHandler = e => {\n    e.preventDefault();\n    setSkills(prev => [...prev, {\n      skill: skillName,\n      rating: Number.parseInt(skillValue)\n    }]);\n  };\n  const deleteSkillHandler = e => {\n    console.log(e.target);\n    setSkills(prev => prev.filter(item => item._id !== e.target.id));\n  };\n  const saveSkillsHandler = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('skills', JSON.stringify(skills));\n    submit(formData, {\n      method: 'PUT',\n      action: '/profile/addskills'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NameAndImage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container skill-area\",\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        class: \"add-skills\",\n        method: \"PUT\",\n        action: \"/profile/addskills\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          class: \"h2\",\n          children: \"Add Skills\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"skill\",\n          name: \"skill\",\n          placeholder: \"Enter a skill...\",\n          onChange: skillHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"range-slider\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"range-slider__range\",\n            type: \"range\",\n            name: \"rating\",\n            min: \"1\",\n            max: \"100\",\n            defaultValue: 50,\n            onChange: difficultyHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"range-slider__value\",\n            children: skillValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addSkillsHandler,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: saveSkillsHandler,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"skills-list\",\n        children: skills && skills.map((skill, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          id: skill._id,\n          onClick: deleteSkillHandler,\n          children: [skill.skill, \":\", skill.rating]\n        }, skill._id ? skill._id : index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 61\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(AddSkillsPage, \"At7YYEx/EGq0T+5Y+u3LFTjDdpU=\", false, function () {\n  return [useLoaderData, useSubmit];\n});\n_c = AddSkillsPage;\nexport async function saveSkillsAction(_ref) {\n  let {\n    request\n  } = _ref;\n  const data = await request.formData();\n  const skills = {\n    skills: JSON.parse(data.get('skills'))\n  };\n  const token = localStorage.getItem('TOKEN');\n  await fetch('http://localhost:3080/users/addskills', {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify(skills)\n  });\n  return redirect('/profile/');\n}\nexport default AddSkillsPage;\nvar _c;\n$RefreshReg$(_c, \"AddSkillsPage\");","map":{"version":3,"names":["useEffect","useState","Form","redirect","useSubmit","useLoaderData","NameAndImage","jsxDEV","_jsxDEV","Fragment","_Fragment","AddSkillsPage","_s","userId","_id","submit","skills","setSkills","skillName","setSkillName","skillValue","setSkillValue","getSkills","response","fetch","json","skillHandler","e","target","value","difficultyHandler","addSkillsHandler","preventDefault","prev","skill","rating","Number","parseInt","deleteSkillHandler","console","log","filter","item","id","saveSkillsHandler","formData","FormData","append","JSON","stringify","method","action","children","fileName","_jsxFileName","lineNumber","columnNumber","class","type","name","placeholder","onChange","min","max","defaultValue","onClick","map","index","_c","saveSkillsAction","_ref","request","data","parse","get","token","localStorage","getItem","headers","body","$RefreshReg$"],"sources":["C:/Users/gm830/OneDrive/Desktop/Resume Projects/Blog App/client/src/pages/AddSkills.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { Form, redirect, useSubmit, useLoaderData } from \"react-router-dom\"\r\nimport NameAndImage from \"../components/header/NameAndImage\"\r\n\r\nconst AddSkillsPage = () => {\r\n    const userId = useLoaderData()._id\r\n\r\n    const submit = useSubmit()\r\n    const [skills, setSkills] = useState([])\r\n    const [skillName, setSkillName] = useState()\r\n    const [skillValue, setSkillValue] = useState(50)\r\n    const getSkills = async () => {\r\n        const response = await fetch(`http://localhost:3080/users/skills/${userId}`)\r\n        const skills = await response.json()\r\n        setSkills(skills.skills)\r\n    }\r\n    useEffect(() => {\r\n        getSkills()\r\n    }, [])\r\n\r\n    const skillHandler = (e) => {\r\n        setSkillName(e.target.value)\r\n    }\r\n    const difficultyHandler = (e) => {\r\n        setSkillValue(e.target.value)\r\n    }\r\n    const addSkillsHandler = (e) => {\r\n        e.preventDefault()\r\n        setSkills(prev => [...prev, { skill: skillName, rating: Number.parseInt(skillValue) }])\r\n    }\r\n    const deleteSkillHandler = (e) => {\r\n        console.log(e.target)\r\n        setSkills(prev => prev.filter(item => item._id !== e.target.id))\r\n    }\r\n    const saveSkillsHandler = (e) => {\r\n        e.preventDefault()\r\n        const formData = new FormData()\r\n        formData.append('skills', JSON.stringify(skills))\r\n        submit(formData, { method: 'PUT', action: '/profile/addskills' })\r\n    }\r\n    return (\r\n        <>\r\n            <NameAndImage />\r\n            <div class='container skill-area'>\r\n                <Form class='add-skills' method=\"PUT\" action=\"/profile/addskills\">\r\n                    <h2 class='h2'>Add Skills</h2>\r\n\r\n                    <input type=\"text\" id=\"skill\" name=\"skill\" placeholder=\"Enter a skill...\" onChange={skillHandler} />\r\n\r\n                    <div class=\"range-slider\">\r\n                        <input class=\"range-slider__range\" type=\"range\" name=\"rating\" min=\"1\" max=\"100\" defaultValue={50} onChange={difficultyHandler} />\r\n                        <span class=\"range-slider__value\">{skillValue}</span>\r\n                    </div>\r\n\r\n                    <button onClick={addSkillsHandler}>Add</button>\r\n                    <button type=\"submit\" onClick={saveSkillsHandler}>Save</button>\r\n                </Form>\r\n                <div class='skills-list'>\r\n                    {skills && skills.map((skill, index) => <p key={skill._id ? skill._id : index} id={skill._id} onClick={deleteSkillHandler}>{skill.skill}:{skill.rating}</p>)}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport async function saveSkillsAction({ request }) {\r\n    const data = await request.formData()\r\n    const skills = { skills: JSON.parse(data.get('skills')) }\r\n    const token = localStorage.getItem('TOKEN')\r\n    await fetch('http://localhost:3080/users/addskills', {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(skills)\r\n    })\r\n    return redirect('/profile/')\r\n}\r\n\r\nexport default AddSkillsPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}